(this["webpackJsonpreact_dynamic-list-of-todos"]=this["webpackJsonpreact_dynamic-list-of-todos"]||[]).push([[0],[,,,,,,,,,function(e,t,a){e.exports=a(20)},,,,,function(e,t,a){},function(e,t,a){},,,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var r=a(0),s=a.n(r),n=a(8),o=a.n(n),c=a(2),l=a(3),u=a(6),i=a(5),d=(a(14),a(15),a(4)),m=a.n(d),p=a(1),h=a.n(p);h.a.shape({title:h.a.string,completed:h.a.bool,userId:h.a.number.isRequired}).defaultProps={title:"",completed:!1};var f=function(e){var t=e.todo,a=e.selectedUserId,r=e.onUserSelect;return s.a.createElement(s.a.Fragment,null,s.a.createElement("label",null,s.a.createElement("input",{type:"checkbox",checked:t.completed,readOnly:!0}),s.a.createElement("p",null,t.title)),s.a.createElement("button",{className:m()("TodoList__user-button","button",{"TodoList__user-button--selected":t.userId===a}),type:"button",onClick:function(){t.userId!==a&&r(t.userId)}},"User\xa0#",t.userId))},E=function(e){var t=e.query,a=e.setSearchQuery,r=e.todoStatus,n=e.setTodoStatus;return s.a.createElement("form",{className:"box"},s.a.createElement("div",{className:"field"},s.a.createElement("label",{htmlFor:"search-query",className:"label"},"Filter todos by title"),s.a.createElement("div",{className:"control"},s.a.createElement("input",{type:"text",id:"search-query",className:"input",value:t,placeholder:"Type search word",onChange:a}))),s.a.createElement("div",{className:"field"},s.a.createElement("label",{htmlFor:"status-filter",className:"label"},"Filter todos by status"),s.a.createElement("div",{className:"control"},s.a.createElement("select",{value:r,onChange:n},s.a.createElement("option",{value:"both"},"both"),s.a.createElement("option",{value:"completed"},"completed"),s.a.createElement("option",{value:"in-progress"},"in progress")))))},v=(a(18),function(e){var t=e.todos,a=e.selectedUserId,r=e.onUserSelect,n=e.setSearchQuery,o=e.query,c=e.setTodoStatus,l=e.todoStatus;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"TodoList"},s.a.createElement("h2",null,"Total Todos:",t.length),s.a.createElement(E,{query:o,setSearchQuery:n,setTodoStatus:c,todoStatus:l}),s.a.createElement("div",{className:"TodoList__list-container"},s.a.createElement("ul",{className:"TodoList__list"},t.map((function(e){return s.a.createElement("li",{key:e.id,className:m()("TodoList__item",{"TodoList__item--unchecked":!e.completed,"TodoList__item--checked":e.completed})},s.a.createElement(f,{todo:e,selectedUserId:a,onUserSelect:r}))}))))))}),y=function(e){return fetch("".concat("https://mate-api.herokuapp.com").concat(e)).then((function(e){if(!e.ok)throw new Error("".concat(e.status," - ").concat(e.statusText));return e.json()}))},b=(a(19),function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).state={user:null,error:!1},e}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.userId!==e.userId&&this.getUser()}},{key:"getUser",value:function(){var e,t=this;(e=this.props.userId,y("/users/".concat(e))).then((function(e){if(null===e.data)throw new Error("No user with id ".concat(t.props.userId));t.setState({user:e.data,error:!1})})).catch((function(e){t.setState({error:e})}))}},{key:"render",value:function(){return this.state.error?s.a.createElement("p",null,this.state.error.message):(null===this.state.user&&this.getUser(),s.a.createElement(s.a.Fragment,null,this.state.user?s.a.createElement("div",{className:"CurrentUser"},s.a.createElement("h2",{className:"CurrentUser__title"},s.a.createElement("span",null,"Selected user:",this.state.user.id)),s.a.createElement("h3",{className:"CurrentUser__name"},this.state.user.name),s.a.createElement("p",{className:"CurrentUser__email"},this.state.user.email),s.a.createElement("p",{className:"CurrentUser__phone"},this.state.user.phone),s.a.createElement("button",{type:"button",onClick:this.props.clearSelectedUserId,className:"button is-primary CurrentUser__clear"},"Clear")):s.a.createElement("button",{type:"button",className:"button is-primary is-loading",title:"User is loading"})))}}]),a}(s.a.Component)),S=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).state={todos:[],selectedUserId:4,query:"",status:"both"},e.clearSelectedUserId=function(){e.setState({selectedUserId:0})},e.setSelectedUserId=function(t){e.setState({selectedUserId:t})},e.setTodoStatus=function(t){var a=t.target;e.setState({status:a.value})},e.setSearchQuery=function(t){var a=t.target;e.setState({query:a.value})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;y("/todos").then((function(e){return e.data})).then((function(t){e.setState({todos:t})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.todos,r=t.selectedUserId;return s.a.createElement("div",{className:"App"},s.a.createElement("div",{className:"App__sidebar"},s.a.createElement(v,{todos:a.filter((function(t){var a,r=null===t.title?"":t.title.toLowerCase(),s=e.state.query.toLowerCase();switch(e.state.status){case"in-progress":a=!t.completed;break;case"completed":a=t.completed;break;default:a=!0}return r.includes(s)&&a})),selectedUserId:r,onUserSelect:this.setSelectedUserId,setSearchQuery:this.setSearchQuery,setTodoStatus:this.setTodoStatus,todoStatus:this.state.status,query:this.state.query})),s.a.createElement("div",{className:"App__content"},s.a.createElement("div",{className:"App__content-container"},r?s.a.createElement(b,{userId:r,clearSelectedUserId:this.clearSelectedUserId}):"No user selected")))}}]),a}(s.a.Component);o.a.render(s.a.createElement(S,null),document.getElementById("root"))}],[[9,1,2]]]);
//# sourceMappingURL=main.d0a2c1b8.chunk.js.map